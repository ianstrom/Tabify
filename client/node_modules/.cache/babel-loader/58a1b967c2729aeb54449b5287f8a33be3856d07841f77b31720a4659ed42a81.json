{"ast":null,"code":"import { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { filterBuffer } from '../helpers/filter-buffer';\nimport { interceptConnections } from '../helpers/intercept-connections';\nfunction divide(a, b) {\n  const denominator = b[0] * b[0] + b[1] * b[1];\n  return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n}\nfunction multiply(a, b) {\n  return [a[0] * b[0] - a[1] * b[1], a[0] * b[1] + a[1] * b[0]];\n}\nfunction evaluatePolynomial(coefficient, z) {\n  let result = [0, 0];\n  for (let i = coefficient.length - 1; i >= 0; i -= 1) {\n    result = multiply(result, z);\n    result[0] += coefficient[i];\n  }\n  return result;\n}\nexport const createNativeIIRFilterNodeFakerFactory = (createInvalidAccessError, createInvalidStateError, createNativeScriptProcessorNode, createNotSupportedError) => {\n  return (nativeContext, baseLatency, _ref) => {\n    let {\n      channelCount,\n      channelCountMode,\n      channelInterpretation,\n      feedback,\n      feedforward\n    } = _ref;\n    const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n    const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n    const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n    const feedbackLength = convertedFeedback.length;\n    const feedforwardLength = convertedFeedforward.length;\n    const minLength = Math.min(feedbackLength, feedforwardLength);\n    if (feedbackLength === 0 || feedbackLength > 20) {\n      throw createNotSupportedError();\n    }\n    if (convertedFeedback[0] === 0) {\n      throw createInvalidStateError();\n    }\n    if (feedforwardLength === 0 || feedforwardLength > 20) {\n      throw createNotSupportedError();\n    }\n    if (convertedFeedforward[0] === 0) {\n      throw createInvalidStateError();\n    }\n    if (convertedFeedback[0] !== 1) {\n      for (let i = 0; i < feedforwardLength; i += 1) {\n        convertedFeedforward[i] /= convertedFeedback[0];\n      }\n      for (let i = 1; i < feedbackLength; i += 1) {\n        convertedFeedback[i] /= convertedFeedback[0];\n      }\n    }\n    const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, channelCount, channelCount);\n    scriptProcessorNode.channelCount = channelCount;\n    scriptProcessorNode.channelCountMode = channelCountMode;\n    scriptProcessorNode.channelInterpretation = channelInterpretation;\n    const bufferLength = 32;\n    const bufferIndexes = [];\n    const xBuffers = [];\n    const yBuffers = [];\n    for (let i = 0; i < channelCount; i += 1) {\n      bufferIndexes.push(0);\n      const xBuffer = new Float32Array(bufferLength);\n      const yBuffer = new Float32Array(bufferLength);\n      xBuffer.fill(0);\n      yBuffer.fill(0);\n      xBuffers.push(xBuffer);\n      yBuffers.push(yBuffer);\n    }\n    // tslint:disable-next-line:deprecation\n    scriptProcessorNode.onaudioprocess = event => {\n      const inputBuffer = event.inputBuffer;\n      const outputBuffer = event.outputBuffer;\n      const numberOfChannels = inputBuffer.numberOfChannels;\n      for (let i = 0; i < numberOfChannels; i += 1) {\n        const input = inputBuffer.getChannelData(i);\n        const output = outputBuffer.getChannelData(i);\n        bufferIndexes[i] = filterBuffer(convertedFeedback, feedbackLength, convertedFeedforward, feedforwardLength, minLength, xBuffers[i], yBuffers[i], bufferIndexes[i], bufferLength, input, output);\n      }\n    };\n    const nyquist = nativeContext.sampleRate / 2;\n    const nativeIIRFilterNodeFaker = {\n      get bufferSize() {\n        return bufferSize;\n      },\n      get channelCount() {\n        return scriptProcessorNode.channelCount;\n      },\n      set channelCount(value) {\n        scriptProcessorNode.channelCount = value;\n      },\n      get channelCountMode() {\n        return scriptProcessorNode.channelCountMode;\n      },\n      set channelCountMode(value) {\n        scriptProcessorNode.channelCountMode = value;\n      },\n      get channelInterpretation() {\n        return scriptProcessorNode.channelInterpretation;\n      },\n      set channelInterpretation(value) {\n        scriptProcessorNode.channelInterpretation = value;\n      },\n      get context() {\n        return scriptProcessorNode.context;\n      },\n      get inputs() {\n        return [scriptProcessorNode];\n      },\n      get numberOfInputs() {\n        return scriptProcessorNode.numberOfInputs;\n      },\n      get numberOfOutputs() {\n        return scriptProcessorNode.numberOfOutputs;\n      },\n      addEventListener() {\n        // @todo Dissallow adding an audioprocess listener.\n        return scriptProcessorNode.addEventListener(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1], arguments.length <= 2 ? undefined : arguments[2]);\n      },\n      dispatchEvent() {\n        return scriptProcessorNode.dispatchEvent(arguments.length <= 0 ? undefined : arguments[0]);\n      },\n      getFrequencyResponse(frequencyHz, magResponse, phaseResponse) {\n        if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n          throw createInvalidAccessError();\n        }\n        const length = frequencyHz.length;\n        for (let i = 0; i < length; i += 1) {\n          const omega = -Math.PI * (frequencyHz[i] / nyquist);\n          const z = [Math.cos(omega), Math.sin(omega)];\n          const numerator = evaluatePolynomial(convertedFeedforward, z);\n          const denominator = evaluatePolynomial(convertedFeedback, z);\n          const response = divide(numerator, denominator);\n          magResponse[i] = Math.sqrt(response[0] * response[0] + response[1] * response[1]);\n          phaseResponse[i] = Math.atan2(response[1], response[0]);\n        }\n      },\n      removeEventListener() {\n        return scriptProcessorNode.removeEventListener(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1], arguments.length <= 2 ? undefined : arguments[2]);\n      }\n    };\n    return interceptConnections(nativeIIRFilterNodeFaker, scriptProcessorNode);\n  };\n};","map":{"version":3,"names":["computeBufferSize","filterBuffer","interceptConnections","divide","a","b","denominator","multiply","evaluatePolynomial","coefficient","z","result","i","length","createNativeIIRFilterNodeFakerFactory","createInvalidAccessError","createInvalidStateError","createNativeScriptProcessorNode","createNotSupportedError","nativeContext","baseLatency","_ref","channelCount","channelCountMode","channelInterpretation","feedback","feedforward","bufferSize","sampleRate","convertedFeedback","Float64Array","convertedFeedforward","feedbackLength","feedforwardLength","minLength","Math","min","scriptProcessorNode","bufferLength","bufferIndexes","xBuffers","yBuffers","push","xBuffer","Float32Array","yBuffer","fill","onaudioprocess","event","inputBuffer","outputBuffer","numberOfChannels","input","getChannelData","output","nyquist","nativeIIRFilterNodeFaker","value","context","inputs","numberOfInputs","numberOfOutputs","addEventListener","arguments","undefined","dispatchEvent","getFrequencyResponse","frequencyHz","magResponse","phaseResponse","omega","PI","cos","sin","numerator","response","sqrt","atan2","removeEventListener"],"sources":["/Users/ianstrom/Development/code/Capstone/client/node_modules/standardized-audio-context/src/factories/native-iir-filter-node-faker-factory.ts"],"sourcesContent":["import { computeBufferSize } from '../helpers/compute-buffer-size';\nimport { filterBuffer } from '../helpers/filter-buffer';\nimport { interceptConnections } from '../helpers/intercept-connections';\nimport { TNativeAudioNode, TNativeIIRFilterNode, TNativeIIRFilterNodeFakerFactoryFactory } from '../types';\n\nfunction divide(a: [number, number], b: [number, number]): [number, number] {\n    const denominator = b[0] * b[0] + b[1] * b[1];\n\n    return [(a[0] * b[0] + a[1] * b[1]) / denominator, (a[1] * b[0] - a[0] * b[1]) / denominator];\n}\n\nfunction multiply(a: [number, number], b: [number, number]): [number, number] {\n    return [a[0] * b[0] - a[1] * b[1], a[0] * b[1] + a[1] * b[0]];\n}\n\nfunction evaluatePolynomial(coefficient: Float64Array, z: [number, number]): [number, number] {\n    let result: [number, number] = [0, 0];\n\n    for (let i = coefficient.length - 1; i >= 0; i -= 1) {\n        result = multiply(result, z);\n\n        result[0] += coefficient[i];\n    }\n\n    return result;\n}\n\nexport const createNativeIIRFilterNodeFakerFactory: TNativeIIRFilterNodeFakerFactoryFactory = (\n    createInvalidAccessError,\n    createInvalidStateError,\n    createNativeScriptProcessorNode,\n    createNotSupportedError\n) => {\n    return (nativeContext, baseLatency, { channelCount, channelCountMode, channelInterpretation, feedback, feedforward }) => {\n        const bufferSize = computeBufferSize(baseLatency, nativeContext.sampleRate);\n        const convertedFeedback = feedback instanceof Float64Array ? feedback : new Float64Array(feedback);\n        const convertedFeedforward = feedforward instanceof Float64Array ? feedforward : new Float64Array(feedforward);\n        const feedbackLength = convertedFeedback.length;\n        const feedforwardLength = convertedFeedforward.length;\n        const minLength = Math.min(feedbackLength, feedforwardLength);\n\n        if (feedbackLength === 0 || feedbackLength > 20) {\n            throw createNotSupportedError();\n        }\n\n        if (convertedFeedback[0] === 0) {\n            throw createInvalidStateError();\n        }\n\n        if (feedforwardLength === 0 || feedforwardLength > 20) {\n            throw createNotSupportedError();\n        }\n\n        if (convertedFeedforward[0] === 0) {\n            throw createInvalidStateError();\n        }\n\n        if (convertedFeedback[0] !== 1) {\n            for (let i = 0; i < feedforwardLength; i += 1) {\n                convertedFeedforward[i] /= convertedFeedback[0];\n            }\n\n            for (let i = 1; i < feedbackLength; i += 1) {\n                convertedFeedback[i] /= convertedFeedback[0];\n            }\n        }\n\n        const scriptProcessorNode = createNativeScriptProcessorNode(nativeContext, bufferSize, channelCount, channelCount);\n\n        scriptProcessorNode.channelCount = channelCount;\n        scriptProcessorNode.channelCountMode = channelCountMode;\n        scriptProcessorNode.channelInterpretation = channelInterpretation;\n\n        const bufferLength = 32;\n        const bufferIndexes: number[] = [];\n        const xBuffers: Float32Array[] = [];\n        const yBuffers: Float32Array[] = [];\n\n        for (let i = 0; i < channelCount; i += 1) {\n            bufferIndexes.push(0);\n\n            const xBuffer = new Float32Array(bufferLength);\n            const yBuffer = new Float32Array(bufferLength);\n\n            xBuffer.fill(0);\n            yBuffer.fill(0);\n\n            xBuffers.push(xBuffer);\n            yBuffers.push(yBuffer);\n        }\n\n        // tslint:disable-next-line:deprecation\n        scriptProcessorNode.onaudioprocess = (event: AudioProcessingEvent) => {\n            const inputBuffer = event.inputBuffer;\n            const outputBuffer = event.outputBuffer;\n\n            const numberOfChannels = inputBuffer.numberOfChannels;\n\n            for (let i = 0; i < numberOfChannels; i += 1) {\n                const input = inputBuffer.getChannelData(i);\n                const output = outputBuffer.getChannelData(i);\n\n                bufferIndexes[i] = filterBuffer(\n                    convertedFeedback,\n                    feedbackLength,\n                    convertedFeedforward,\n                    feedforwardLength,\n                    minLength,\n                    xBuffers[i],\n                    yBuffers[i],\n                    bufferIndexes[i],\n                    bufferLength,\n                    input,\n                    output\n                );\n            }\n        };\n\n        const nyquist = nativeContext.sampleRate / 2;\n\n        const nativeIIRFilterNodeFaker = {\n            get bufferSize(): number {\n                return bufferSize;\n            },\n            get channelCount(): number {\n                return scriptProcessorNode.channelCount;\n            },\n            set channelCount(value) {\n                scriptProcessorNode.channelCount = value;\n            },\n            get channelCountMode(): TNativeIIRFilterNode['channelCountMode'] {\n                return scriptProcessorNode.channelCountMode;\n            },\n            set channelCountMode(value) {\n                scriptProcessorNode.channelCountMode = value;\n            },\n            get channelInterpretation(): TNativeIIRFilterNode['channelInterpretation'] {\n                return scriptProcessorNode.channelInterpretation;\n            },\n            set channelInterpretation(value) {\n                scriptProcessorNode.channelInterpretation = value;\n            },\n            get context(): TNativeIIRFilterNode['context'] {\n                return scriptProcessorNode.context;\n            },\n            get inputs(): TNativeAudioNode[] {\n                return [scriptProcessorNode];\n            },\n            get numberOfInputs(): number {\n                return scriptProcessorNode.numberOfInputs;\n            },\n            get numberOfOutputs(): number {\n                return scriptProcessorNode.numberOfOutputs;\n            },\n            addEventListener(...args: any[]): void {\n                // @todo Dissallow adding an audioprocess listener.\n                return scriptProcessorNode.addEventListener(args[0], args[1], args[2]);\n            },\n            dispatchEvent(...args: any[]): boolean {\n                return scriptProcessorNode.dispatchEvent(args[0]);\n            },\n            getFrequencyResponse(frequencyHz: Float32Array, magResponse: Float32Array, phaseResponse: Float32Array): void {\n                if (frequencyHz.length !== magResponse.length || magResponse.length !== phaseResponse.length) {\n                    throw createInvalidAccessError();\n                }\n\n                const length = frequencyHz.length;\n\n                for (let i = 0; i < length; i += 1) {\n                    const omega = -Math.PI * (frequencyHz[i] / nyquist);\n                    const z: [number, number] = [Math.cos(omega), Math.sin(omega)];\n                    const numerator = evaluatePolynomial(convertedFeedforward, z);\n                    const denominator = evaluatePolynomial(convertedFeedback, z);\n                    const response = divide(numerator, denominator);\n\n                    magResponse[i] = Math.sqrt(response[0] * response[0] + response[1] * response[1]);\n                    phaseResponse[i] = Math.atan2(response[1], response[0]);\n                }\n            },\n            removeEventListener(...args: any[]): void {\n                return scriptProcessorNode.removeEventListener(args[0], args[1], args[2]);\n            }\n        };\n\n        return interceptConnections(nativeIIRFilterNodeFaker, scriptProcessorNode);\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}