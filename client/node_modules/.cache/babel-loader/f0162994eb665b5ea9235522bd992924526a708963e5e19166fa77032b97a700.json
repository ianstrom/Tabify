{"ast":null,"code":"/**\n * Firefox up to version 62 did not kick off the processing of the StereoPannerNode if the value of pan was zero.\n */\nexport const createTestStereoPannerNodeDefaultValueSupport = nativeOfflineAudioContextConstructor => {\n  return () => {\n    if (nativeOfflineAudioContextConstructor === null) {\n      return Promise.resolve(false);\n    }\n    const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n    /*\n     * Bug #105: Safari does not support the StereoPannerNode. Therefore the returned value should normally be false but the faker does\n     * support the tested behaviour.\n     */\n    if (nativeOfflineAudioContext.createStereoPanner === undefined) {\n      return Promise.resolve(true);\n    }\n    // Bug #62: Safari does not support ConstantSourceNodes.\n    if (nativeOfflineAudioContext.createConstantSource === undefined) {\n      return Promise.resolve(true);\n    }\n    const constantSourceNode = nativeOfflineAudioContext.createConstantSource();\n    const stereoPanner = nativeOfflineAudioContext.createStereoPanner();\n    constantSourceNode.channelCount = 1;\n    constantSourceNode.offset.value = 1;\n    stereoPanner.channelCount = 1;\n    constantSourceNode.start();\n    constantSourceNode.connect(stereoPanner).connect(nativeOfflineAudioContext.destination);\n    return nativeOfflineAudioContext.startRendering().then(buffer => buffer.getChannelData(0)[0] !== 1);\n  };\n};","map":{"version":3,"names":["createTestStereoPannerNodeDefaultValueSupport","nativeOfflineAudioContextConstructor","Promise","resolve","nativeOfflineAudioContext","createStereoPanner","undefined","createConstantSource","constantSourceNode","stereoPanner","channelCount","offset","value","start","connect","destination","startRendering","then","buffer","getChannelData"],"sources":["/Users/ianstrom/Development/code/Capstone/node_modules/standardized-audio-context/src/factories/test-stereo-panner-node-default-value-support.ts"],"sourcesContent":["import { TTestStereoPannerNodeDefaultValueSupportFactory } from '../types';\n\n/**\n * Firefox up to version 62 did not kick off the processing of the StereoPannerNode if the value of pan was zero.\n */\nexport const createTestStereoPannerNodeDefaultValueSupport: TTestStereoPannerNodeDefaultValueSupportFactory = (\n    nativeOfflineAudioContextConstructor\n) => {\n    return () => {\n        if (nativeOfflineAudioContextConstructor === null) {\n            return Promise.resolve(false);\n        }\n\n        const nativeOfflineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);\n\n        /*\n         * Bug #105: Safari does not support the StereoPannerNode. Therefore the returned value should normally be false but the faker does\n         * support the tested behaviour.\n         */\n        if (nativeOfflineAudioContext.createStereoPanner === undefined) {\n            return Promise.resolve(true);\n        }\n\n        // Bug #62: Safari does not support ConstantSourceNodes.\n        if (nativeOfflineAudioContext.createConstantSource === undefined) {\n            return Promise.resolve(true);\n        }\n\n        const constantSourceNode = nativeOfflineAudioContext.createConstantSource();\n        const stereoPanner = nativeOfflineAudioContext.createStereoPanner();\n\n        constantSourceNode.channelCount = 1;\n        constantSourceNode.offset.value = 1;\n\n        stereoPanner.channelCount = 1;\n\n        constantSourceNode.start();\n\n        constantSourceNode.connect(stereoPanner).connect(nativeOfflineAudioContext.destination);\n\n        return nativeOfflineAudioContext.startRendering().then((buffer) => buffer.getChannelData(0)[0] !== 1);\n    };\n};\n"],"mappings":"AAEA;;;AAGA,OAAO,MAAMA,6CAA6C,GACtDC,oCAAoC,IACpC;EACA,OAAO,MAAK;IACR,IAAIA,oCAAoC,KAAK,IAAI,EAAE;MAC/C,OAAOC,OAAO,CAACC,OAAO,CAAC,KAAK,CAAC;;IAGjC,MAAMC,yBAAyB,GAAG,IAAIH,oCAAoC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC;IAEvF;;;;IAIA,IAAIG,yBAAyB,CAACC,kBAAkB,KAAKC,SAAS,EAAE;MAC5D,OAAOJ,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;;IAGhC;IACA,IAAIC,yBAAyB,CAACG,oBAAoB,KAAKD,SAAS,EAAE;MAC9D,OAAOJ,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;;IAGhC,MAAMK,kBAAkB,GAAGJ,yBAAyB,CAACG,oBAAoB,EAAE;IAC3E,MAAME,YAAY,GAAGL,yBAAyB,CAACC,kBAAkB,EAAE;IAEnEG,kBAAkB,CAACE,YAAY,GAAG,CAAC;IACnCF,kBAAkB,CAACG,MAAM,CAACC,KAAK,GAAG,CAAC;IAEnCH,YAAY,CAACC,YAAY,GAAG,CAAC;IAE7BF,kBAAkB,CAACK,KAAK,EAAE;IAE1BL,kBAAkB,CAACM,OAAO,CAACL,YAAY,CAAC,CAACK,OAAO,CAACV,yBAAyB,CAACW,WAAW,CAAC;IAEvF,OAAOX,yBAAyB,CAACY,cAAc,EAAE,CAACC,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;EACzG,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}