{"ast":null,"code":"import { AudioToGain } from \"../signal/AudioToGain\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { ModulationSynth } from \"./ModulationSynth\";\n/**\n * AMSynth uses the output of one Tone.Synth to modulate the\n * amplitude of another Tone.Synth. The harmonicity (the ratio between\n * the two signals) affects the timbre of the output signal greatly.\n * Read more about Amplitude Modulation Synthesis on\n * [SoundOnSound](https://web.archive.org/web/20160404103653/http://www.soundonsound.com:80/sos/mar00/articles/synthsecrets.htm).\n *\n * @example\n * const synth = new Tone.AMSynth().toDestination();\n * synth.triggerAttackRelease(\"C4\", \"4n\");\n *\n * @category Instrument\n */\nexport class AMSynth extends ModulationSynth {\n  constructor() {\n    super(optionsFromArguments(AMSynth.getDefaults(), arguments));\n    this.name = \"AMSynth\";\n    this._modulationScale = new AudioToGain({\n      context: this.context\n    });\n    // control the two voices frequency\n    this.frequency.connect(this._carrier.frequency);\n    this.frequency.chain(this.harmonicity, this._modulator.frequency);\n    this.detune.fan(this._carrier.detune, this._modulator.detune);\n    this._modulator.chain(this._modulationScale, this._modulationNode.gain);\n    this._carrier.chain(this._modulationNode, this.output);\n  }\n  dispose() {\n    super.dispose();\n    this._modulationScale.dispose();\n    return this;\n  }\n}","map":{"version":3,"names":["AudioToGain","optionsFromArguments","ModulationSynth","AMSynth","constructor","getDefaults","arguments","name","_modulationScale","context","frequency","connect","_carrier","chain","harmonicity","_modulator","detune","fan","_modulationNode","gain","output","dispose"],"sources":["/Users/ianstrom/Development/code/Capstone/node_modules/tone/Tone/instrument/AMSynth.ts"],"sourcesContent":["import { AudioToGain } from \"../signal/AudioToGain\";\nimport { RecursivePartial } from \"../core/util/Interface\";\nimport { optionsFromArguments } from \"../core/util/Defaults\";\nimport { ModulationSynth, ModulationSynthOptions } from \"./ModulationSynth\";\n\nexport type AMSynthOptions = ModulationSynthOptions;\n\n/**\n * AMSynth uses the output of one Tone.Synth to modulate the\n * amplitude of another Tone.Synth. The harmonicity (the ratio between\n * the two signals) affects the timbre of the output signal greatly.\n * Read more about Amplitude Modulation Synthesis on\n * [SoundOnSound](https://web.archive.org/web/20160404103653/http://www.soundonsound.com:80/sos/mar00/articles/synthsecrets.htm).\n *\n * @example\n * const synth = new Tone.AMSynth().toDestination();\n * synth.triggerAttackRelease(\"C4\", \"4n\");\n * \n * @category Instrument\n */\nexport class AMSynth extends ModulationSynth<AMSynthOptions> {\n\n\treadonly name: string = \"AMSynth\";\n\n\t/**\n\t * Scale the oscillator from -1,1 to 0-1\n\t */\n\tprivate _modulationScale: AudioToGain;\n\n\tconstructor(options?: RecursivePartial<AMSynthOptions>);\n\tconstructor() {\n\t\tsuper(optionsFromArguments(AMSynth.getDefaults(), arguments));\n\n\t\tthis._modulationScale = new AudioToGain({\n\t\t\tcontext: this.context,\n\t\t});\n\n\t\t// control the two voices frequency\n\t\tthis.frequency.connect(this._carrier.frequency);\n\t\tthis.frequency.chain(this.harmonicity, this._modulator.frequency);\n\t\tthis.detune.fan(this._carrier.detune, this._modulator.detune);\n\t\tthis._modulator.chain(this._modulationScale, this._modulationNode.gain);\n\t\tthis._carrier.chain(this._modulationNode, this.output);\n\t}\n\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis._modulationScale.dispose();\n\t\treturn this;\n\t}\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,uBAAuB;AAEnD,SAASC,oBAAoB,QAAQ,uBAAuB;AAC5D,SAASC,eAAe,QAAgC,mBAAmB;AAI3E;;;;;;;;;;;;;AAaA,OAAM,MAAOC,OAAQ,SAAQD,eAA+B;EAU3DE,YAAA;IACC,KAAK,CAACH,oBAAoB,CAACE,OAAO,CAACE,WAAW,EAAE,EAAEC,SAAS,CAAC,CAAC;IATrD,KAAAC,IAAI,GAAW,SAAS;IAWhC,IAAI,CAACC,gBAAgB,GAAG,IAAIR,WAAW,CAAC;MACvCS,OAAO,EAAE,IAAI,CAACA;KACd,CAAC;IAEF;IACA,IAAI,CAACC,SAAS,CAACC,OAAO,CAAC,IAAI,CAACC,QAAQ,CAACF,SAAS,CAAC;IAC/C,IAAI,CAACA,SAAS,CAACG,KAAK,CAAC,IAAI,CAACC,WAAW,EAAE,IAAI,CAACC,UAAU,CAACL,SAAS,CAAC;IACjE,IAAI,CAACM,MAAM,CAACC,GAAG,CAAC,IAAI,CAACL,QAAQ,CAACI,MAAM,EAAE,IAAI,CAACD,UAAU,CAACC,MAAM,CAAC;IAC7D,IAAI,CAACD,UAAU,CAACF,KAAK,CAAC,IAAI,CAACL,gBAAgB,EAAE,IAAI,CAACU,eAAe,CAACC,IAAI,CAAC;IACvE,IAAI,CAACP,QAAQ,CAACC,KAAK,CAAC,IAAI,CAACK,eAAe,EAAE,IAAI,CAACE,MAAM,CAAC;EACvD;EAEAC,OAAOA,CAAA;IACN,KAAK,CAACA,OAAO,EAAE;IACf,IAAI,CAACb,gBAAgB,CAACa,OAAO,EAAE;IAC/B,OAAO,IAAI;EACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}