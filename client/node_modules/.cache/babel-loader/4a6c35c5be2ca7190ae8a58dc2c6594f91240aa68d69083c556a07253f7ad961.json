{"ast":null,"code":"import { ToneAudioNode } from \"../../core/context/ToneAudioNode\";\nimport { Merge } from \"./Merge\";\nimport { Add } from \"../../signal/Add\";\nimport { Multiply } from \"../../signal/Multiply\";\nimport { Subtract } from \"../../signal/Subtract\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\n/**\n * MidSideMerge merges the mid and side signal after they've been separated by [[MidSideSplit]]\n * ```\n * Mid = (Left+Right)/sqrt(2);   // obtain mid-signal from left and right\n * Side = (Left-Right)/sqrt(2);   // obtain side-signal from left and right\n * ```\n * @category Component\n */\nexport class MidSideMerge extends ToneAudioNode {\n  constructor() {\n    super(optionsFromArguments(MidSideMerge.getDefaults(), arguments));\n    this.name = \"MidSideMerge\";\n    this.mid = new Gain({\n      context: this.context\n    });\n    this.side = new Gain({\n      context: this.context\n    });\n    this._left = new Add({\n      context: this.context\n    });\n    this._leftMult = new Multiply({\n      context: this.context,\n      value: Math.SQRT1_2\n    });\n    this._right = new Subtract({\n      context: this.context\n    });\n    this._rightMult = new Multiply({\n      context: this.context,\n      value: Math.SQRT1_2\n    });\n    this._merge = this.output = new Merge({\n      context: this.context\n    });\n    this.mid.fan(this._left);\n    this.side.connect(this._left.addend);\n    this.mid.connect(this._right);\n    this.side.connect(this._right.subtrahend);\n    this._left.connect(this._leftMult);\n    this._right.connect(this._rightMult);\n    this._leftMult.connect(this._merge, 0, 0);\n    this._rightMult.connect(this._merge, 0, 1);\n  }\n  dispose() {\n    super.dispose();\n    this.mid.dispose();\n    this.side.dispose();\n    this._leftMult.dispose();\n    this._rightMult.dispose();\n    this._left.dispose();\n    this._right.dispose();\n    return this;\n  }\n}","map":{"version":3,"names":["ToneAudioNode","Merge","Add","Multiply","Subtract","Gain","optionsFromArguments","MidSideMerge","constructor","getDefaults","arguments","name","mid","context","side","_left","_leftMult","value","Math","SQRT1_2","_right","_rightMult","_merge","output","fan","connect","addend","subtrahend","dispose"],"sources":["/Users/ianstrom/Development/code/Capstone/node_modules/tone/Tone/component/channel/MidSideMerge.ts"],"sourcesContent":["import { ToneAudioNode, ToneAudioNodeOptions } from \"../../core/context/ToneAudioNode\";\nimport { Merge } from \"./Merge\";\nimport { Add } from \"../../signal/Add\";\nimport { Multiply } from \"../../signal/Multiply\";\nimport { Subtract } from \"../../signal/Subtract\";\nimport { Gain } from \"../../core/context/Gain\";\nimport { optionsFromArguments } from \"../../core/util/Defaults\";\n\nexport type MidSideMergeOptions = ToneAudioNodeOptions;\n\n/**\n * MidSideMerge merges the mid and side signal after they've been separated by [[MidSideSplit]]\n * ```\n * Mid = (Left+Right)/sqrt(2);   // obtain mid-signal from left and right\n * Side = (Left-Right)/sqrt(2);   // obtain side-signal from left and right\n * ```\n * @category Component\n */\nexport class MidSideMerge extends ToneAudioNode<MidSideMergeOptions> {\n\t\n\treadonly name: string = \"MidSideMerge\";\n\n\t/**\n\t * There is no input, connect sources to either [[mid]] or [[side]] inputs.\n\t */\n\treadonly input: undefined;\n\n\t/**\n\t * The merged signal\n\t */\n\treadonly output: Merge;\n\n\t/**\n\t * Merge the incoming signal into left and right channels\n\t */\n\tprivate _merge: Merge;\n\n\t/**\n\t * The \"mid\" input.\n\t */\n\treadonly mid: ToneAudioNode;\n\n\t/**\n\t * The \"side\" input.\n\t */\n\treadonly side: ToneAudioNode;\n\n\t/**\n\t * Recombine the mid/side into Left\n\t */\n\tprivate _left: Add;\n\n\t/**\n\t * Recombine the mid/side into Right\n\t */\n\tprivate _right: Subtract;\n\n\t/**\n\t * Multiply the right by sqrt(1/2)\n\t */\n\tprivate _leftMult: Multiply;\n\n\t/**\n\t * Multiply the left by sqrt(1/2)\n\t */\n\tprivate _rightMult: Multiply;\n\t\n\tconstructor(options?: Partial<MidSideMergeOptions>);\n\tconstructor() {\n\t\tsuper(optionsFromArguments(MidSideMerge.getDefaults(), arguments));\n\t\tthis.mid = new Gain({ context: this.context });\n\t\tthis.side = new Gain({ context: this.context });\n\t\tthis._left = new Add({ context: this.context });\n\t\tthis._leftMult = new Multiply({\n\t\t\tcontext: this.context, \n\t\t\tvalue: Math.SQRT1_2\n\t\t});\n\t\tthis._right = new Subtract({ context: this.context });\n\t\tthis._rightMult = new Multiply({\n\t\t\tcontext: this.context, \n\t\t\tvalue: Math.SQRT1_2\n\t\t});\n\t\tthis._merge = this.output = new Merge({ context: this.context });\n\n\t\tthis.mid.fan(this._left);\n\t\tthis.side.connect(this._left.addend);\n\t\tthis.mid.connect(this._right);\n\t\tthis.side.connect(this._right.subtrahend);\n\t\tthis._left.connect(this._leftMult);\n\t\tthis._right.connect(this._rightMult);\n\t\tthis._leftMult.connect(this._merge, 0, 0);\n\t\tthis._rightMult.connect(this._merge, 0, 1);\n\t}\n\t\n\tdispose(): this {\n\t\tsuper.dispose();\n\t\tthis.mid.dispose();\n\t\tthis.side.dispose();\n\t\tthis._leftMult.dispose();\n\t\tthis._rightMult.dispose();\n\t\tthis._left.dispose();\n\t\tthis._right.dispose();\n\t\treturn this;\n\t}\n}\n"],"mappings":"AAAA,SAASA,aAAa,QAA8B,kCAAkC;AACtF,SAASC,KAAK,QAAQ,SAAS;AAC/B,SAASC,GAAG,QAAQ,kBAAkB;AACtC,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,IAAI,QAAQ,yBAAyB;AAC9C,SAASC,oBAAoB,QAAQ,0BAA0B;AAI/D;;;;;;;;AAQA,OAAM,MAAOC,YAAa,SAAQP,aAAkC;EAkDnEQ,YAAA;IACC,KAAK,CAACF,oBAAoB,CAACC,YAAY,CAACE,WAAW,EAAE,EAAEC,SAAS,CAAC,CAAC;IAjD1D,KAAAC,IAAI,GAAW,cAAc;IAkDrC,IAAI,CAACC,GAAG,GAAG,IAAIP,IAAI,CAAC;MAAEQ,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC;IAC9C,IAAI,CAACC,IAAI,GAAG,IAAIT,IAAI,CAAC;MAAEQ,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC;IAC/C,IAAI,CAACE,KAAK,GAAG,IAAIb,GAAG,CAAC;MAAEW,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC;IAC/C,IAAI,CAACG,SAAS,GAAG,IAAIb,QAAQ,CAAC;MAC7BU,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBI,KAAK,EAAEC,IAAI,CAACC;KACZ,CAAC;IACF,IAAI,CAACC,MAAM,GAAG,IAAIhB,QAAQ,CAAC;MAAES,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC;IACrD,IAAI,CAACQ,UAAU,GAAG,IAAIlB,QAAQ,CAAC;MAC9BU,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBI,KAAK,EAAEC,IAAI,CAACC;KACZ,CAAC;IACF,IAAI,CAACG,MAAM,GAAG,IAAI,CAACC,MAAM,GAAG,IAAItB,KAAK,CAAC;MAAEY,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC;IAEhE,IAAI,CAACD,GAAG,CAACY,GAAG,CAAC,IAAI,CAACT,KAAK,CAAC;IACxB,IAAI,CAACD,IAAI,CAACW,OAAO,CAAC,IAAI,CAACV,KAAK,CAACW,MAAM,CAAC;IACpC,IAAI,CAACd,GAAG,CAACa,OAAO,CAAC,IAAI,CAACL,MAAM,CAAC;IAC7B,IAAI,CAACN,IAAI,CAACW,OAAO,CAAC,IAAI,CAACL,MAAM,CAACO,UAAU,CAAC;IACzC,IAAI,CAACZ,KAAK,CAACU,OAAO,CAAC,IAAI,CAACT,SAAS,CAAC;IAClC,IAAI,CAACI,MAAM,CAACK,OAAO,CAAC,IAAI,CAACJ,UAAU,CAAC;IACpC,IAAI,CAACL,SAAS,CAACS,OAAO,CAAC,IAAI,CAACH,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;IACzC,IAAI,CAACD,UAAU,CAACI,OAAO,CAAC,IAAI,CAACH,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;EAC3C;EAEAM,OAAOA,CAAA;IACN,KAAK,CAACA,OAAO,EAAE;IACf,IAAI,CAAChB,GAAG,CAACgB,OAAO,EAAE;IAClB,IAAI,CAACd,IAAI,CAACc,OAAO,EAAE;IACnB,IAAI,CAACZ,SAAS,CAACY,OAAO,EAAE;IACxB,IAAI,CAACP,UAAU,CAACO,OAAO,EAAE;IACzB,IAAI,CAACb,KAAK,CAACa,OAAO,EAAE;IACpB,IAAI,CAACR,MAAM,CAACQ,OAAO,EAAE;IACrB,OAAO,IAAI;EACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}